<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <title>AI Suport Emoțional</title>
    <style>
        body { font-family: Arial; margin: 0; background: #f3f3fb;}
        #chat-container { width: 430px; margin: 50px auto; background: white; border-radius: 12px; box-shadow: 1px 1px 8px #ccc;}
        #messages { height: 430px; overflow-y: auto; padding: 16px}
        .msg-user { text-align:right; color: #4186ff; }
        .msg-ai { text-align:left; color: #444;}
        #input-row { display: flex; padding:16px 13px; }
        #msg { flex:1; border-radius:4px; border:1px solid #aaa; padding: 6px;}
        #send { background: #4186ff; color:white; border: none; padding: 7px 17px; border-radius: 6px;}
    </style>
</head>
<body>
<div id="chat-container">
    <h2 style="text-align:center;margin-top:16px;">Asistent empatic cu bază academică</h2>
    <div id="messages"></div>
    <div id="input-row">
        <input type="text" id="msg" placeholder="Scrie un mesaj..." autocomplete="off">
        <button id="send">Trimite</button>
    </div>
</div>
<script>
const sendBtn = document.getElementById("send");
const msgInput = document.getElementById("msg");
const messagesDiv = document.getElementById("messages");

function addMsg(txt, ai=false) {
    const m = document.createElement("div");
    m.className = ai ? "msg-ai" : "msg-user";
    m.textContent = txt;
    messagesDiv.appendChild(m);
    messagesDiv.scrollTop = messagesDiv.scrollHeight;
}

sendBtn.onclick = async function () {
    let val = msgInput.value.trim();
    if(!val) return;
    addMsg(val, false);
    msgInput.value = "";
    let r = await fetch("/chat", {
        method:"POST",
        headers:{"Content-Type":"application/json"},
        body: JSON.stringify({message: val})
    });
    let data = await r.json();
    addMsg(data.response, true);
};

msgInput.onkeydown = function(e) {
    if(e.key === "Enter") sendBtn.onclick();
};
</script>
</body>
</html>
pip install flask flask-cors python-telegram-bot[asyncio] python-dotenv torch transformers sentence-transformers faiss-cpu PyPDF2
